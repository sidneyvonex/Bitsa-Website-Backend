# Authentication Flow - Visual Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         BITSA Authentication Flow                           â”‚
â”‚                        (Complete End-to-End Process)                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 1: User Registration                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Frontend                         Backend                        Database/Email
   â”‚                                â”‚                                 â”‚
   â”‚  POST /api/auth/register      â”‚                                 â”‚
   â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>  â”‚                                 â”‚
   â”‚  {                            â”‚                                 â”‚
   â”‚    firstName, lastName,       â”‚  Create User                    â”‚
   â”‚    email, password,           â”‚  Hash Password                  â”‚
   â”‚    schoolId, major            â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>   â”‚
   â”‚  }                            â”‚                                 â”‚
   â”‚                               â”‚  Insert User                    â”‚
   â”‚                               â”‚  emailVerified = false          â”‚
   â”‚                               â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>   â”‚
   â”‚                               â”‚                                 â”‚
   â”‚                               â”‚  Send Welcome Email             â”‚
   â”‚                               â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> â”‚
   â”‚                               â”‚                                 â”‚
   â”‚  201 Created                  â”‚                                 â”‚
   â”‚  <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚                                 â”‚
   â”‚  "User created successfully"  â”‚                                 â”‚
   â”‚                               â”‚                                 â”‚

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 2: First Login Attempt (Email Not Verified) âŒ                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Frontend                         Backend                        Database
   â”‚                                â”‚                                 â”‚
   â”‚  POST /api/auth/login         â”‚                                 â”‚
   â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>  â”‚                                 â”‚
   â”‚  {                            â”‚                                 â”‚
   â”‚    email, password            â”‚  Find User by Email             â”‚
   â”‚  }                            â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>   â”‚
   â”‚                               â”‚                                 â”‚
   â”‚                               â”‚  User Found                     â”‚
   â”‚                               â”‚  <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
   â”‚                               â”‚                                 â”‚
   â”‚                               â”‚  Check Password                 â”‚
   â”‚                               â”‚  âœ… Password Match              â”‚
   â”‚                               â”‚                                 â”‚
   â”‚                               â”‚  Check emailVerified            â”‚
   â”‚                               â”‚  âŒ emailVerified = false       â”‚
   â”‚                               â”‚                                 â”‚
   â”‚  403 Forbidden                â”‚                                 â”‚
   â”‚  <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚                                 â”‚
   â”‚  {                            â”‚                                 â”‚
   â”‚    error: "Email not verified"â”‚                                 â”‚
   â”‚    needsVerification: true    â”‚                                 â”‚
   â”‚    email: "user@example.com"  â”‚                                 â”‚
   â”‚  }                            â”‚                                 â”‚
   â”‚                               â”‚                                 â”‚
   â”‚  Display Warning:             â”‚                                 â”‚
   â”‚  âš ï¸  "Email not verified.     â”‚                                 â”‚
   â”‚      Check your inbox"        â”‚                                 â”‚
   â”‚  [Resend Verification Email]  â”‚                                 â”‚
   â”‚                               â”‚                                 â”‚

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 3: Resend Verification Email                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Frontend                         Backend                        Database/Email
   â”‚                                â”‚                                 â”‚
   â”‚  POST /api/auth/              â”‚                                 â”‚
   â”‚       send-verification       â”‚                                 â”‚
   â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>  â”‚                                 â”‚
   â”‚  { email: "user@example.com" }â”‚                                 â”‚
   â”‚                               â”‚  Find User                      â”‚
   â”‚                               â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>   â”‚
   â”‚                               â”‚                                 â”‚
   â”‚                               â”‚  Generate Token                 â”‚
   â”‚                               â”‚  Store Token + Expiry           â”‚
   â”‚                               â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>   â”‚
   â”‚                               â”‚                                 â”‚
   â”‚                               â”‚  Send Verification Email        â”‚
   â”‚                               â”‚  with Token Link                â”‚
   â”‚                               â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> â”‚
   â”‚                               â”‚                                 â”‚
   â”‚  200 OK                       â”‚                                 â”‚
   â”‚  <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚                                 â”‚
   â”‚  "Verification email sent"    â”‚                                 â”‚
   â”‚                               â”‚                                 â”‚
   â”‚  Show Success:                â”‚                                 â”‚
   â”‚  âœ… "Check your email"        â”‚                                 â”‚
   â”‚                               â”‚                                 â”‚

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 4: User Clicks Verification Link in Email                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Email Link                       Backend                        Database
   â”‚                                â”‚                                 â”‚
   â”‚  GET /verify-email?           â”‚                                 â”‚
   â”‚      token=abc123...          â”‚                                 â”‚
   â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>  â”‚                                 â”‚
   â”‚                               â”‚  Find User by Token             â”‚
   â”‚                               â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>   â”‚
   â”‚                               â”‚                                 â”‚
   â”‚                               â”‚  User Found                     â”‚
   â”‚                               â”‚  Check Token Expiry             â”‚
   â”‚                               â”‚  âœ… Token Valid                 â”‚
   â”‚                               â”‚                                 â”‚
   â”‚                               â”‚  Update emailVerified = true    â”‚
   â”‚                               â”‚  Clear Token                    â”‚
   â”‚                               â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>   â”‚
   â”‚                               â”‚                                 â”‚
   â”‚                               â”‚  Send Confirmation Email        â”‚
   â”‚                               â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> â”‚
   â”‚                               â”‚                                 â”‚
   â”‚  200 OK                       â”‚                                 â”‚
   â”‚  <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚                                 â”‚
   â”‚  "Email verified successfully"â”‚                                 â”‚
   â”‚                               â”‚                                 â”‚
   â”‚  Redirect to Login Page       â”‚                                 â”‚
   â”‚  âœ… "You can now login"       â”‚                                 â”‚
   â”‚                               â”‚                                 â”‚

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 5: Second Login Attempt (Email Verified) âœ…                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Frontend                         Backend                        Database
   â”‚                                â”‚                                 â”‚
   â”‚  POST /api/auth/login         â”‚                                 â”‚
   â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>  â”‚                                 â”‚
   â”‚  {                            â”‚                                 â”‚
   â”‚    email, password            â”‚  Find User by Email             â”‚
   â”‚  }                            â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>   â”‚
   â”‚                               â”‚                                 â”‚
   â”‚                               â”‚  User Found                     â”‚
   â”‚                               â”‚  <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
   â”‚                               â”‚                                 â”‚
   â”‚                               â”‚  Check Password                 â”‚
   â”‚                               â”‚  âœ… Password Match              â”‚
   â”‚                               â”‚                                 â”‚
   â”‚                               â”‚  Check emailVerified            â”‚
   â”‚                               â”‚  âœ… emailVerified = true        â”‚
   â”‚                               â”‚                                 â”‚
   â”‚                               â”‚  Generate JWT Token             â”‚
   â”‚                               â”‚  Generate Refresh Token         â”‚
   â”‚                               â”‚  Store Refresh Token            â”‚
   â”‚                               â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>   â”‚
   â”‚                               â”‚                                 â”‚
   â”‚  200 OK                       â”‚                                 â”‚
   â”‚  <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚                                 â”‚
   â”‚  {                            â”‚                                 â”‚
   â”‚    token: "jwt_token...",     â”‚                                 â”‚
   â”‚    userId: "SCT123456",       â”‚                                 â”‚
   â”‚    email, fullName,           â”‚                                 â”‚
   â”‚    userRole, profileUrl,      â”‚                                 â”‚
   â”‚    emailVerified: true        â”‚                                 â”‚
   â”‚  }                            â”‚                                 â”‚
   â”‚                               â”‚                                 â”‚
   â”‚  Store Token in State/Storage â”‚                                 â”‚
   â”‚  Navigate to Dashboard        â”‚                                 â”‚
   â”‚                               â”‚                                 â”‚

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 6: Check If User Has Selected Interests                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Frontend (Dashboard)             Backend                        Database
   â”‚                                â”‚                                 â”‚
   â”‚  GET /api/interests/my/check  â”‚                                 â”‚
   â”‚  Authorization: Bearer <token>â”‚                                 â”‚
   â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>  â”‚                                 â”‚
   â”‚                               â”‚  Extract userId from JWT        â”‚
   â”‚                               â”‚  Find User Interests            â”‚
   â”‚                               â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>   â”‚
   â”‚                               â”‚                                 â”‚
   â”‚                               â”‚  Interests Found: []            â”‚
   â”‚                               â”‚  <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
   â”‚                               â”‚                                 â”‚
   â”‚  200 OK                       â”‚                                 â”‚
   â”‚  <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚                                 â”‚
   â”‚  {                            â”‚                                 â”‚
   â”‚    hasInterests: false,       â”‚                                 â”‚
   â”‚    count: 0,                  â”‚                                 â”‚
   â”‚    needsToSelectInterests:trueâ”‚                                 â”‚
   â”‚  }                            â”‚                                 â”‚
   â”‚                               â”‚                                 â”‚
   â”‚  Open InterestSelectionModal  â”‚                                 â”‚
   â”‚  ğŸ“‹ "Select Your Interests"   â”‚                                 â”‚
   â”‚                               â”‚                                 â”‚

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 7: Fetch Available Interests                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Frontend (Modal)                 Backend                        Database
   â”‚                                â”‚                                 â”‚
   â”‚  GET /api/interests/admin/all â”‚                                 â”‚
   â”‚  Authorization: Bearer <token>â”‚                                 â”‚
   â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>  â”‚                                 â”‚
   â”‚                               â”‚  Fetch All Interests            â”‚
   â”‚                               â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>   â”‚
   â”‚                               â”‚                                 â”‚
   â”‚                               â”‚  Interests List                 â”‚
   â”‚                               â”‚  <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
   â”‚                               â”‚                                 â”‚
   â”‚  200 OK                       â”‚                                 â”‚
   â”‚  <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚                                 â”‚
   â”‚  {                            â”‚                                 â”‚
   â”‚    interests: [               â”‚                                 â”‚
   â”‚      { id, name, category },  â”‚                                 â”‚
   â”‚      ...                      â”‚                                 â”‚
   â”‚    ]                          â”‚                                 â”‚
   â”‚  }                            â”‚                                 â”‚
   â”‚                               â”‚                                 â”‚
   â”‚  Display Interests            â”‚                                 â”‚
   â”‚  Grouped by Category:         â”‚                                 â”‚
   â”‚  â–¡ Web Development            â”‚                                 â”‚
   â”‚  â–¡ Mobile Apps                â”‚                                 â”‚
   â”‚  â–¡ AI/ML                      â”‚                                 â”‚
   â”‚  â–¡ Cybersecurity              â”‚                                 â”‚
   â”‚  etc.                         â”‚                                 â”‚
   â”‚                               â”‚                                 â”‚

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 8: User Selects Interests and Saves                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Frontend (Modal)                 Backend                        Database
   â”‚                                â”‚                                 â”‚
   â”‚  User selects:                â”‚                                 â”‚
   â”‚  â˜‘ Web Development            â”‚                                 â”‚
   â”‚  â˜‘ AI/ML                      â”‚                                 â”‚
   â”‚  â˜‘ Cybersecurity              â”‚                                 â”‚
   â”‚                               â”‚                                 â”‚
   â”‚  [Save Interests]             â”‚                                 â”‚
   â”‚                               â”‚                                 â”‚
   â”‚  POST /api/interests/my       â”‚                                 â”‚
   â”‚  Authorization: Bearer <token>â”‚                                 â”‚
   â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>  â”‚                                 â”‚
   â”‚  {                            â”‚                                 â”‚
   â”‚    interestIds: [             â”‚                                 â”‚
   â”‚      "uuid-1", "uuid-2", ...  â”‚  Extract userId from JWT        â”‚
   â”‚    ]                          â”‚  Find User                      â”‚
   â”‚  }                            â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>   â”‚
   â”‚                               â”‚                                 â”‚
   â”‚                               â”‚  Insert UserInterests           â”‚
   â”‚                               â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>   â”‚
   â”‚                               â”‚                                 â”‚
   â”‚  200 OK                       â”‚                                 â”‚
   â”‚  <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚                                 â”‚
   â”‚  {                            â”‚                                 â”‚
   â”‚    message: "Interests added",â”‚                                 â”‚
   â”‚    count: 3                   â”‚                                 â”‚
   â”‚  }                            â”‚                                 â”‚
   â”‚                               â”‚                                 â”‚
   â”‚  Close Modal                  â”‚                                 â”‚
   â”‚  âœ… "Interests saved!"        â”‚                                 â”‚
   â”‚                               â”‚                                 â”‚
   â”‚  Refresh Dashboard            â”‚                                 â”‚
   â”‚  Show Full Dashboard Access   â”‚                                 â”‚
   â”‚                               â”‚                                 â”‚

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 9: User Now Has Full Dashboard Access                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Frontend (Dashboard)             Backend                        Database
   â”‚                                â”‚                                 â”‚
   â”‚  Dashboard displays:          â”‚                                 â”‚
   â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚                                 â”‚
   â”‚  ğŸ‘‹ Welcome, John Doe!        â”‚                                 â”‚
   â”‚                               â”‚                                 â”‚
   â”‚  Stats Cards:                 â”‚  Fetch Stats                    â”‚
   â”‚  ğŸ“… 5 Events                  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>   â”‚
   â”‚  ğŸ“ 12 Blogs                  â”‚  <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
   â”‚  ğŸ‘¥ 3 Communities             â”‚                                 â”‚
   â”‚  ğŸ¯ 3 Interests               â”‚                                 â”‚
   â”‚                               â”‚                                 â”‚
   â”‚  Quick Links                  â”‚                                 â”‚
   â”‚  Calendar Widget              â”‚                                 â”‚
   â”‚  My Interests Badge           â”‚                                 â”‚
   â”‚  etc.                         â”‚                                 â”‚
   â”‚                               â”‚                                 â”‚

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Summary of Backend Endpoints Used                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. POST   /api/auth/register           - Create new user account
2. POST   /api/auth/login              - Login (with email verification check)
3. POST   /api/auth/send-verification  - Send/resend verification email
4. POST   /api/auth/verify-email       - Verify email with token
5. GET    /api/interests/my/check      - Check if user has interests
6. GET    /api/interests/admin/all     - Get all available interests
7. POST   /api/interests/my            - Add user interests
8. GET    /api/interests/my            - Get user's selected interests

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Database Tables Involved                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     users       â”‚       â”‚  userInterests     â”‚       â”‚  interests   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (UUID)       â”‚<â”€â”€â”   â”‚ id (UUID)          â”‚   â”Œâ”€â”€>â”‚ id (UUID)    â”‚
â”‚ schoolId        â”‚   â”‚   â”‚ userId (FK)        â”‚â”€â”€â”€â”˜   â”‚ name         â”‚
â”‚ firstName       â”‚   â””â”€â”€â”€â”‚ interestId (FK)    â”‚       â”‚ category     â”‚
â”‚ lastName        â”‚       â”‚ createdAt          â”‚       â”‚ description  â”‚
â”‚ email           â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚ createdAt    â”‚
â”‚ passwordHash    â”‚                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ emailVerified   â”‚â†â”€â”€ ğŸ”‘ Key field for login check
â”‚ verificationTokenâ”‚
â”‚ tokenExpiry     â”‚
â”‚ role            â”‚
â”‚ createdAt       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Key Security Features                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

âœ… Password Hashing (bcrypt with 12 salt rounds)
âœ… JWT Authentication with expiry (1 hour)
âœ… Refresh Tokens (7 days) stored in HTTP-only cookies
âœ… Email Verification Required for Login
âœ… Secure Token Generation for verification
âœ… Token Expiry Handling (24 hours for verification tokens)
âœ… Audit Logging for all authentication events

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Error Handling                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

âŒ 400 Bad Request      - Invalid input data
âŒ 401 Unauthorized     - Invalid credentials or token
âŒ 403 Forbidden        - Email not verified
âŒ 404 Not Found        - User/resource not found
âŒ 409 Conflict         - Email/SchoolID already exists
âŒ 500 Server Error     - Internal server errors

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Status: Implementation Complete âœ…                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
